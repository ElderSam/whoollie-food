<script>
    $(function () {
        $("#btnCreateProduct").click(function (e) {
            e.preventDefault();

            $.post("/api/products", $("#formCreateProduct").serialize(), function () {
                $('#addModal').modal('hide');
                swal("Tudo certo!", "Produto adicionado com sucesso!", "success");
            }).fail(() => {
                console.log("Rota não encontrada!");
            });
        });
    });


    $(document).ready(function () {

        $.getJSON('/api/products', function (data) {

            data.forEach(element => {

                $("#viewProduct").append('<div class="col-lg-3">' +
                '<div class="card shadow mb-4 border-left-success">' +
                '<div class="card-header py-3">' +
                '<h6 class="m-0 font-weight-bold text-primary float-left">'+ element.desName +'</h6>'+
                '<span class="badge badge-success float-right">R$ '+ element.vlUnity +'</span>'+
                '</div>'+
                '<div class="card-body text-center">'+
                '<img class="fluid-img mb-1" src="res/admin/img/pizza.jpg" alt="">'+ //ALTERAR QUANDO IMPLEMENTAR IMAGENS
                '<p>'+ (element.desNote == '' ? 'Produto sem descrição.' : element.desNote) +'</p>'+
                '<a href="#" class="btn btn-info btn-circle">'+
                '<i class="fas fa-edit"></i>'+
                '</a>'+
                '<a href="#" class="btn btn-danger btn-circle">'+
                '<i class="fas fa-trash"></i>'+
                '</a>'+
                '</div>'+
                '</div>'+
                '</div>');

                console.log(element.desName);
            });

        }).fail(function () {
            console.log("Rota não encontrada!");
        });

    }); 
</script>